use perpetuals::core::types::asset::AssetId;
use starkware_utils::errors::{Describable, ErrorDisplay};
use starkware_utils::signature::stark::PublicKey;

#[derive(Drop)]
pub enum Error {
    // Simple error constants
    ALREADY_INITIALIZED,
    ASSET_NAME_TOO_LONG,
    SYNTHETIC_NOT_EXISTS,
    ASSET_NOT_EXISTS,
    ASSET_REGISTERED_AS_COLLATERAL,
    COLLATERAL_NOT_REGISTERED,
    INACTIVE_ASSET,
    FUNDING_EXPIRED,
    FUNDING_TICKS_NOT_SORTED,
    INVALID_FUNDING_TICK_LEN,
    INVALID_MEDIAN,
    INVALID_PRICE_TIMESTAMP,
    INVALID_RF_VALUE,
    INVALID_SAME_QUORUM,
    INVALID_SHARE_QUANTUM,
    INVALID_SHARE_RESOLUTION,
    INVALID_SPOT_RF_TIERS,
    INVALID_STATUS,
    INVALID_TIMESTAMP,
    INVALID_UNDERLYING,
    INVALID_VAULT_RF_TIERS,
    INVALID_ZERO_TOKEN_ADDRESS,
    INVALID_ZERO_QUANTUM,
    INVALID_ZERO_ASSET_ID,
    INVALID_ZERO_ASSET_NAME,
    INVALID_ZERO_ORACLE_NAME,
    INVALID_ZERO_PUBLIC_KEY,
    INVALID_ZERO_QUORUM,
    INVALID_ZERO_RESOLUTION_FACTOR,
    INVALID_ZERO_RF_FIRST_BOUNDRY,
    INVALID_ZERO_RF_TIER_SIZE,
    INVALID_ZERO_RF_TIERS_LEN,
    MISMATCHED_RESOLUTION,
    MISSING_ERC20_ADDRESS,
    MISSING_ERC20_ADDRESS_FOR_SPOT,
    MISSING_ERC20_ADDRESS_FOR_VAULT,
    NO_TOKEN_CONTRACT,
    NOT_COLLATERAL,
    NOT_SYNTHETIC,
    NOT_VAULT,
    ORACLE_ALREADY_EXISTS,
    ORACLE_NOT_EXISTS,
    ORACLE_NAME_TOO_LONG,
    QUORUM_NOT_REACHED,
    SIGNED_PRICES_UNSORTED,
    SYNTHETIC_ALREADY_EXISTS,
    SYNTHETIC_EXPIRED_PRICE,
    SYNTHETIC_NOT_ACTIVE,
    UNSORTED_RISK_FACTOR_TIERS,
    ZERO_MAX_PRICE_INTERVAL,
    ZERO_MAX_FUNDING_INTERVAL,
    ZERO_MAX_FUNDING_RATE,
    ZERO_MAX_ORACLE_PRICE,
    // Error functions with parameters
    ORACLE_PUBLIC_KEY_NOT_REGISTERED: (AssetId, PublicKey),
}

impl DescribableError of Describable<Error> {
    fn describe(self: @Error) -> ByteArray {
        match self {
            // Simple error constants
            Error::ALREADY_INITIALIZED => "ALREADY_INITIALIZED",
            Error::ASSET_NAME_TOO_LONG => "ASSET_NAME_TOO_LONG",
            Error::SYNTHETIC_NOT_EXISTS => "SYNTHETIC_NOT_EXISTS",
            Error::ASSET_NOT_EXISTS => "ASSET_NOT_EXISTS",
            Error::ASSET_REGISTERED_AS_COLLATERAL => "ASSET_REGISTERED_AS_COLLATERAL",
            Error::COLLATERAL_NOT_REGISTERED => "COLLATERAL_NOT_REGISTERED",
            Error::INACTIVE_ASSET => "INACTIVE_ASSET",
            Error::FUNDING_EXPIRED => "FUNDING_EXPIRED",
            Error::FUNDING_TICKS_NOT_SORTED => "FUNDING_TICKS_NOT_SORTED",
            Error::INVALID_FUNDING_TICK_LEN => "INVALID_FUNDING_TICK_LEN",
            Error::INVALID_MEDIAN => "INVALID_MEDIAN",
            Error::INVALID_PRICE_TIMESTAMP => "INVALID_PRICE_TIMESTAMP",
            Error::INVALID_RF_VALUE => "INVALID_RF_VALUE",
            Error::INVALID_SAME_QUORUM => "INVALID_SAME_QUORUM",
            Error::INVALID_SHARE_QUANTUM => "INVALID_SHARE_QUANTUM",
            Error::INVALID_SHARE_RESOLUTION => "INVALID_SHARE_RESOLUTION",
            Error::INVALID_SPOT_RF_TIERS => "INVALID_SPOT_RF_TIERS",
            Error::INVALID_STATUS => "INVALID_STATUS",
            Error::INVALID_TIMESTAMP => "INVALID_TIMESTAMP",
            Error::INVALID_UNDERLYING => "INVALID_UNDERLYING",
            Error::INVALID_VAULT_RF_TIERS => "INVALID_VAULT_RF_TIERS",
            Error::INVALID_ZERO_TOKEN_ADDRESS => "INVALID_ZERO_TOKEN_ADDRESS",
            Error::INVALID_ZERO_QUANTUM => "INVALID_ZERO_QUANTUM",
            Error::INVALID_ZERO_ASSET_ID => "INVALID_ZERO_ASSET_ID",
            Error::INVALID_ZERO_ASSET_NAME => "INVALID_ZERO_ASSET_NAME",
            Error::INVALID_ZERO_ORACLE_NAME => "INVALID_ZERO_ORACLE_NAME",
            Error::INVALID_ZERO_PUBLIC_KEY => "INVALID_ZERO_PUBLIC_KEY",
            Error::INVALID_ZERO_QUORUM => "INVALID_ZERO_QUORUM",
            Error::INVALID_ZERO_RESOLUTION_FACTOR => "INVALID_ZERO_RESOLUTION_FACTOR",
            Error::INVALID_ZERO_RF_FIRST_BOUNDRY => "INVALID_ZERO_RF_FIRST_BOUNDRY",
            Error::INVALID_ZERO_RF_TIER_SIZE => "INVALID_ZERO_RF_TIER_SIZE",
            Error::INVALID_ZERO_RF_TIERS_LEN => "INVALID_ZERO_RF_TIERS_LEN",
            Error::MISMATCHED_RESOLUTION => "MISMATCHED_RESOLUTION",
            Error::MISSING_ERC20_ADDRESS => "MISSING_ERC20_ADDRESS",
            Error::MISSING_ERC20_ADDRESS_FOR_SPOT => "MISSING_ERC20_ADDRESS_FOR_SPOT",
            Error::MISSING_ERC20_ADDRESS_FOR_VAULT => "MISSING_ERC20_ADDRESS_FOR_VAULT",
            Error::NO_TOKEN_CONTRACT => "NO_TOKEN_CONTRACT",
            Error::NOT_COLLATERAL => "NOT_COLLATERAL",
            Error::NOT_SYNTHETIC => "NOT_SYNTHETIC",
            Error::NOT_VAULT => "NOT_VAULT",
            Error::ORACLE_ALREADY_EXISTS => "ORACLE_ALREADY_EXISTS",
            Error::ORACLE_NOT_EXISTS => "ORACLE_NOT_EXISTS",
            Error::ORACLE_NAME_TOO_LONG => "ORACLE_NAME_TOO_LONG",
            Error::QUORUM_NOT_REACHED => "QUORUM_NOT_REACHED",
            Error::SIGNED_PRICES_UNSORTED => "SIGNED_PRICES_UNSORTED",
            Error::SYNTHETIC_ALREADY_EXISTS => "SYNTHETIC_ALREADY_EXISTS",
            Error::SYNTHETIC_EXPIRED_PRICE => "SYNTHETIC_EXPIRED_PRICE",
            Error::SYNTHETIC_NOT_ACTIVE => "SYNTHETIC_NOT_ACTIVE",
            Error::UNSORTED_RISK_FACTOR_TIERS => "UNSORTED_RISK_FACTOR_TIERS",
            Error::ZERO_MAX_PRICE_INTERVAL => "ZERO_MAX_PRICE_INTERVAL",
            Error::ZERO_MAX_FUNDING_INTERVAL => "ZERO_MAX_FUNDING_INTERVAL",
            Error::ZERO_MAX_FUNDING_RATE => "ZERO_MAX_FUNDING_RATE",
            Error::ZERO_MAX_ORACLE_PRICE => "ZERO_MAX_ORACLE_PRICE",
            // Error functions with parameters
            Error::ORACLE_PUBLIC_KEY_NOT_REGISTERED((
                asset_id, public_key,
            )) => format!(
                "ORACLE_PUBLIC_KEY_NOT_REGISTERED, asset_id: {:?}, public_key: {:?}",
                *asset_id,
                *public_key,
            ),
        }
    }
}
